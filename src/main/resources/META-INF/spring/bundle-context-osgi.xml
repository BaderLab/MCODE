<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:osgi="http://www.springframework.org/schema/osgi"
	xsi:schemaLocation="
		http://www.springframework.org/schema/beans 
		http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
		http://www.springframework.org/schema/osgi 
		http://www.springframework.org/schema/osgi/spring-osgi-1.0.xsd"
	default-lazy-init="false">


	<!-- ================= Import =========================== -->

	<!-- Import OSGi service from service registry -->

	<osgi:reference id="cyApplicationManagerServiceRef"
		interface="org.cytoscape.application.CyApplicationManager" />
		
	<osgi:reference id="cyEventHelperServiceRef"
		interface="org.cytoscape.event.CyEventHelper" />
		
	<osgi:reference id="cyNetworkViewFactoryServiceRef"
		interface="org.cytoscape.view.model.CyNetworkViewFactory" />
		
	<osgi:reference id="cyNetworkManagerServiceRef"
		interface="org.cytoscape.model.CyNetworkManager" />
		
	<osgi:reference id="cyNetworkViewManagerServiceRef"
		interface="org.cytoscape.view.model.CyNetworkViewManager" />
        
    <osgi:reference id="cyRootNetworkFactoryServiceRef"
        interface="org.cytoscape.model.subnetwork.CyRootNetworkFactory" />

	<osgi:reference id="cyServiceRegistrarServiceRef"
		interface="org.cytoscape.service.util.CyServiceRegistrar" />

    <osgi:reference id="cySwingApplicationServiceRef"
        interface="org.cytoscape.application.swing.CySwingApplication" />

    <osgi:reference id="dingRenderingEngineFactoryServiceRef"
        interface="org.cytoscape.view.presentation.RenderingEngineFactory"
        filter="(id=ding)" />
        
    <osgi:reference id="fileUtilServiceRef"
        interface="org.cytoscape.util.swing.FileUtil" />
        
    <osgi:reference id="openBrowserServiceRef"
        interface="org.cytoscape.util.swing.OpenBrowser" />
        
    <osgi:reference id="taskManagerServiceRef"
        interface="org.cytoscape.work.TaskManager" />

    <osgi:reference id="visualStyleFactoryServiceRef"
        interface="org.cytoscape.view.vizmap.VisualStyleFactory" />
        
    <osgi:reference id="visualMappingManagerServiceRef"
        interface="org.cytoscape.view.vizmap.VisualMappingManager" />
        
    <osgi:reference id="discreteMappingFactoryServiceRef"
        interface="org.cytoscape.view.vizmap.VisualMappingFunctionFactory"
        filter="(mapping.type=discrete)" />
        
    <osgi:reference id="continuousMappingFactoryServiceRef"
        interface="org.cytoscape.view.vizmap.VisualMappingFunctionFactory"
        filter="(mapping.type=continuous)" />

	<!-- ================= Export =========================== -->

	<!-- Export the instance as an OSGi service -->
	
	<!-- Menu Items -->
	<osgi:service id="openMenuActionService" ref="openAction"
		interface="org.cytoscape.application.swing.CyAction" />
		
	<osgi:service id="closeMenuActionService" ref="closeAction">
	<osgi:interfaces>
	   <value>org.cytoscape.application.swing.CyAction</value>
	   <value>org.cytoscape.model.events.NetworkAboutToBeDestroyedListener</value>
	</osgi:interfaces>
	</osgi:service>

	<osgi:service id="helpMenuActionService" ref="helpAction"
		interface="org.cytoscape.application.swing.CyAction" />

	<osgi:service id="aboutMenuActionService" ref="aboutAction"
		interface="org.cytoscape.application.swing.CyAction" />

    <!-- Listerners -->
    
    <osgi:service id="analyzeActionService" ref="analyzeAction">
        <osgi:interfaces>
            <value>org.cytoscape.model.events.NetworkAddedListener</value>
            <value>org.cytoscape.model.events.NetworkDestroyedListener</value>
         </osgi:interfaces>
    </osgi:service>
    
    <osgi:service id="visualStyleActionService" ref="visualStyleAction">
        <osgi:interfaces>
            <value>org.cytoscape.application.swing.CyAction</value>
            <value>org.cytoscape.application.swing.events.CytoPanelComponentSelectedListener</value>
         </osgi:interfaces>
    </osgi:service>
    

</beans>
